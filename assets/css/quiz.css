/**
 * ============================================================
 * Education Hub ‚Äî Quiz Stylesheet (quiz.css)
 * ============================================================
 * LOADED BY  : quiz.php only
 * DEPENDS ON : style.css (all --variables, .btn, .hero-section)
 * DO NOT ADD : layout, sidebar, button, alert styles here ‚Äî
 *              those are in style.css to avoid duplication.
 *
 * THREE VISUAL STATES managed by PHP via $_GET:
 *   State 1 ‚Äî Subject Selection  (?year=FY&semester=1)
 *              Year tabs ‚Üí Semester tabs ‚Üí Subject cards grid
 *   State 2 ‚Äî Quiz Taking        (?subject=ID)
 *              Progress bar ‚Üí Question card ‚Üí Options ‚Üí Submit
 *   State 3 ‚Äî Results            (after POST)
 *              Score circle ‚Üí Stats row ‚Üí Answer review cards
 *
 * BACKEND FLOW (quiz.php):
 *   1. SELECT subjects s, COUNT(questions q) ‚Ä¶ GROUP BY s.id
 *      ‚Üí populates subject-selection grid
 *   2. SELECT * FROM questions WHERE subject_id=? ORDER BY RAND() LIMIT 10
 *      ‚Üí loads quiz questions (shuffled)
 *   3. POST: compare answers[] with correct_answer column
 *      ‚Üí calculates $score, $percentage
 *   4. INSERT INTO quiz_results (user_id,subject_id,score,total,percentage)
 *      ‚Üí saves result to DB
 *
 * DB TABLES: subjects ¬∑ questions ¬∑ quiz_results
 * ============================================================
 */


/* ============================================================
   STATE 1 ‚Äî YEAR TABS (FY / SY / TY)
   Each tab is an <a> link: quiz.php?year=FY
   Active tab = royal blue fill; badges show year color.
   ============================================================ */
.year-tabs { display:flex; gap:12px; margin-bottom:16px; flex-wrap:wrap; } /* Row of year links        */

.year-tab {
    display:flex; align-items:center; gap:8px; padding:12px 20px;   /* Icon + label + badge row     */
    background:var(--surface); border:2px solid var(--border);
    border-radius:var(--r-md); color:var(--text);
    font:500 14px inherit; transition:var(--ease); box-shadow:var(--shadow-sm);
}
.year-tab:hover  { border-color:var(--primary); transform:translateY(-2px); box-shadow:var(--shadow-md); }
.year-tab.active { background:var(--primary); border-color:var(--primary); color:#fff; box-shadow:var(--shadow-btn); }

.year-badge { padding:4px 10px; border-radius:6px; font:700 12px inherit; }   /* Colored year label      */
.year-badge.fy { background:var(--success); color:#fff; }                      /* First Year  = green     */
.year-badge.sy { background:var(--warning); color:#fff; }                      /* Second Year = amber     */
.year-badge.ty { background:var(--danger);  color:#fff; }                      /* Third Year  = red       */
.year-tab.active .year-badge { background:rgba(255,255,255,.3); }              /* Transparent on active   */


/* ============================================================
   STATE 1 ‚Äî SEMESTER TABS (Sem 1 / Sem 2)
   Pill-style switcher inside a container row.
   Links to: quiz.php?year=FY&semester=1
   ============================================================ */
.semester-tabs {
    display:flex; gap:8px; margin-bottom:24px; padding:6px;           /* Inner pill switcher          */
    background:var(--surface); border-radius:var(--r-md); border:1px solid var(--border); box-shadow:var(--shadow-sm);
}
.semester-tab {
    padding:10px 20px; background:transparent; border:none;           /* Transparent pill button      */
    border-radius:var(--r-sm); color:var(--text-muted); font:500 14px inherit; transition:var(--ease);
}
.semester-tab:hover  { background:var(--surface-light); color:var(--text); }   /* Hover fill              */
.semester-tab.active { background:var(--primary); color:#fff; }                 /* Selected = royal blue   */


/* ============================================================
   STATE 1 ‚Äî SUBJECT SELECTION CARDS
   Grid of clickable cards ‚Üí quiz.php?subject=ID to start quiz.
   Disabled if subject has no questions (class .disabled added by PHP).
   ============================================================ */
.subject-selection-grid {
    display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr));  /* Auto responsive grid    */
    gap:20px; margin-top:24px;
}
.quiz-subject-card {
    position:relative; background:var(--surface); border-radius:var(--r-xl); /* Large rounded card      */
    padding:28px; border:2px solid var(--border); cursor:pointer;
    transition:var(--ease); overflow:hidden; display:block; box-shadow:var(--shadow-sm);
}
.quiz-subject-card::before {                                                   /* Hidden top accent strip */
    content:''; position:absolute; top:0;left:0;right:0; height:4px;
    background:var(--g-primary); opacity:0; transition:opacity .3s;
}
.quiz-subject-card:hover { transform:translateY(-6px); border-color:var(--primary); box-shadow:var(--shadow-lg); }
.quiz-subject-card:hover::before { opacity:1; }                                /* Reveal stripe on hover  */
.quiz-subject-card.disabled { opacity:.5; cursor:not-allowed; }               /* No questions ‚Äî greyed   */
.quiz-subject-card.disabled:hover { transform:none; box-shadow:var(--shadow-sm); }

.subject-card-icon {                                                           /* Emoji icon box          */
    width:56px; height:56px; border-radius:var(--r-md);
    display:flex; align-items:center; justify-content:center;
    font-size:28px; margin-bottom:14px; background:var(--primary-light);
}
.subject-card-year {                                                           /* "FY ¬∑ Sem 1" label      */
    font:600 12px inherit; color:var(--text-muted); margin-bottom:8px;
    padding:4px 10px; background:var(--surface-light); display:inline-block; border-radius:6px;
}
.subject-card-title { font-size:17px; font-weight:700; margin-bottom:12px; line-height:1.4; color:var(--text); }
.subject-card-stats { display:flex; align-items:center; gap:8px; }
.stat-badge {                                                                  /* "10 Questions" pill     */
    display:inline-flex; align-items:center; gap:4px; padding:6px 12px;
    background:var(--primary-lighter); border-radius:var(--r-full); font:500 13px inherit; color:var(--primary);
}
.subject-card-arrow {                                                          /* ‚Üí Arrow circle          */
    position:absolute; right:20px; bottom:20px; width:36px; height:36px;
    border-radius:50%; background:var(--surface-light);
    display:flex; align-items:center; justify-content:center;
    font-size:16px; color:var(--text-muted); transition:var(--ease);
}
.quiz-subject-card:hover .subject-card-arrow { background:var(--primary); color:#fff; transform:translateX(4px); }
.no-questions-badge {                                                          /* "No Questions" label    */
    position:absolute; right:16px; bottom:20px; padding:6px 12px;
    background:var(--danger-light); color:var(--danger); border-radius:var(--r-sm); font:500 12px inherit;
}


/* ============================================================
   STATE 2 ‚Äî QUIZ TAKING: Back link + Title
   quiz-header holds .back-link (<a href quiz.php>) + <h2>
   ============================================================ */
.quiz-header { margin-bottom:24px; }
.back-link {
    display:inline-flex; align-items:center; gap:8px;          /* ‚Üê Back to subjects link             */
    color:var(--text-muted); font-size:14px; margin-bottom:12px; transition:color .3s;
}
.back-link:hover { color:var(--primary); }                      /* Highlight on hover                  */
.quiz-header h2 { font-size:26px; font-weight:700; color:var(--text); }


/* ============================================================
   STATE 2 ‚Äî PROGRESS BAR
   PHP outputs: <div style="width:XX%"> where XX = answered/total
   JS function updateProgress() updates width on option select.
   ============================================================ */
.quiz-progress-container { margin-bottom:28px; }
.quiz-progress-header {
    display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;
}
.quiz-progress-title { font-size:14px; color:var(--text-muted); }             /* "Progress" label        */
.quiz-progress-count { font-size:14px; font-weight:600; color:var(--primary); } /* "3 / 10" counter      */
.quiz-progress-bar   { height:8px; background:var(--primary-light); border-radius:10px; overflow:hidden; }
.quiz-progress-fill  {
    height:100%; background:var(--g-primary); border-radius:10px;   /* Gradient fill bar               */
    transition:width .5s cubic-bezier(.4,0,.2,1);                    /* Smooth fill animation           */
}


/* ============================================================
   STATE 2 ‚Äî QUESTION CARD
   Left blue accent stripe marks each active question.
   PHP loops through $questions array to render each card.
   ============================================================ */
.quiz-question-card {
    background:var(--surface); border-radius:var(--r-xl); padding:32px;  /* White rounded card         */
    margin-bottom:24px; border:1px solid var(--border); box-shadow:var(--shadow-sm); position:relative; overflow:hidden;
}
.quiz-question-card::before {                                                  /* Left blue accent bar    */
    content:''; position:absolute; top:0;left:0; width:4px; height:100%; background:var(--g-primary);
}
.question-badge {                                                              /* "Question 3 of 10"      */
    display:inline-flex; align-items:center; gap:8px; padding:8px 16px;
    background:var(--primary-light); border-radius:var(--r-full); font:600 14px inherit; color:var(--primary);
}
.quiz-question-text { font-size:19px; font-weight:600; line-height:1.5; margin:14px 0 24px; color:var(--text); }


/* ============================================================
   STATE 2 ‚Äî ANSWER OPTIONS (A/B/C/D)
   Radio inputs hidden; styled as card rows with circle indicator.
   JS: clicking any label auto-selects its hidden <input type=radio>
   ============================================================ */
.quiz-options-grid { display:grid; gap:12px; }                                 /* Vertical option stack   */
.quiz-option {
    position:relative; display:flex; align-items:center; gap:16px;    /* Circle + text row             */
    padding:16px 20px; background:var(--surface-light);
    border-radius:var(--r-md); cursor:pointer; border:2px solid transparent; transition:var(--ease);
}
.quiz-option:hover { border-color:var(--primary); background:var(--primary-light); transform:translateX(6px); }
.quiz-option input[type="radio"] { display:none; }                             /* Hide native radio       */
.quiz-option input[type="radio"]:checked + .option-indicator {
    background:var(--g-primary); border-color:transparent; color:#fff;         /* Blue fill on select     */
}
.quiz-option input[type="radio"]:checked + .option-indicator::after { content:'‚úì'; } /* Checkmark         */
.quiz-option input[type="radio"]:checked ~ .option-text { color:var(--primary); font-weight:600; }
.option-indicator {                                                            /* A/B/C/D circle          */
    width:36px; height:36px; min-width:36px; border-radius:50%;
    border:2px solid var(--border); display:flex; align-items:center;
    justify-content:center; font:700 14px inherit; transition:var(--ease);
}
.option-text { font-size:15px; flex:1; color:var(--text); }                   /* Answer text             */


/* ============================================================
   STATE 2 ‚Äî SUBMIT SECTION
   Shown below all questions. Button submits <form method=POST>.
   PHP processes answers and calculates score after submit.
   ============================================================ */
.quiz-submit-section {
    text-align:center; margin-top:32px; padding:28px;                  /* Centered submit area          */
    background:var(--primary-light); border-radius:var(--r-xl); border:1px solid var(--border);
}
.quiz-submit-btn {
    padding:16px 44px; font:700 17px inherit; background:var(--g-primary); /* Large gradient button     */
    color:#fff; border:none; border-radius:var(--r-lg); cursor:pointer;
    transition:var(--ease); box-shadow:var(--shadow-btn);
}
.quiz-submit-btn:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(26,86,219,.35); }


/* ============================================================
   STATE 3 ‚Äî RESULTS: Score Circle
   CSS conic-gradient creates pie-chart ring effect.
   PHP passes score % via inline style: style="--score:75"
   Inner white disc masks center ‚Üí donut ring appearance.
   ============================================================ */
.quiz-results-container { text-align:center; }
.results-hero {
    padding:40px 28px; background:var(--g-hero); border-radius:var(--r-xl);  /* Hero result banner    */
    margin-bottom:32px; border:1px solid var(--border);
}
.results-emoji { font-size:56px; margin-bottom:14px; }                        /* üéâ / üòî emoji          */
.score-circle {                                                                /* Donut chart wrapper     */
    width:150px; height:150px; margin:0 auto 20px;
    position:relative; display:flex; align-items:center; justify-content:center;
}
.score-circle-bg {                                                             /* Conic gradient ring     */
    position:absolute; width:100%; height:100%; border-radius:50%;
    background: conic-gradient(var(--primary) calc(var(--score)*1%), var(--primary-light) calc(var(--score)*1%));
}
.score-circle-inner {                                                          /* White center disc       */
    width:120px; height:120px; background:var(--surface); border-radius:50%;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    z-index:1; box-shadow:var(--shadow-sm);
}
.score-value {                                                                 /* "75%" gradient text     */
    font-size:34px; font-weight:800;
    background:var(--g-primary); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}
.score-label { font-size:13px; color:var(--text-muted); }                     /* "Score" sub-label       */
.results-title    { font-size:26px; font-weight:800; color:var(--text); margin-bottom:6px; }
.results-subtitle { color:var(--text-muted); font-size:15px; margin-bottom:20px; }

.results-stats { display:flex; justify-content:center; gap:36px; margin-bottom:20px; } /* Stat row     */
.result-stat        { text-align:center; }
.result-stat-value  { font-size:26px; font-weight:700; color:var(--primary); }
.result-stat-label  { font-size:13px; color:var(--text-muted); }


/* ============================================================
   STATE 3 ‚Äî ANSWER REVIEW CARDS
   PHP loops through questions, compares user answer vs correct.
   .correct ‚Üí green left stripe; .wrong ‚Üí red left stripe.
   ============================================================ */
.review-title { text-align:left; font-size:20px; margin-bottom:18px; color:var(--text); }
.review-list  { display:flex; flex-direction:column; gap:14px; text-align:left; }
.review-card {
    background:var(--surface); border-radius:var(--r-lg); padding:22px;  /* Answer review card       */
    border:1px solid var(--border); box-shadow:var(--shadow-sm); position:relative; overflow:hidden;
}
.review-card::before { content:''; position:absolute; left:0;top:0;bottom:0; width:4px; } /* Side stripe */
.review-card.correct::before { background:var(--success); }               /* Green = answered correctly */
.review-card.wrong::before   { background:var(--danger);  }               /* Red   = answered wrongly   */
.review-header  { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.review-number  { font:700 14px inherit; color:var(--primary); }          /* "Q1" number label          */
.review-status  { font:600 13px inherit; }                                  /* ‚úì Correct / ‚úó Wrong        */
.review-question{ font-size:15px; margin-bottom:10px; line-height:1.5; color:var(--text); }
.review-answers { display:flex; gap:16px; font-size:13px; }
.your-answer    { color:var(--danger); }                                    /* Red = what user picked     */
.correct-answer { color:var(--success); font-weight:600; }                  /* Green = right answer       */


/* ============================================================
   RESPONSIVE
   Compact quiz cards and tabs on small screens.
   ============================================================ */
@media (max-width:768px) {
    .year-tabs        { overflow-x:auto; flex-wrap:nowrap; padding-bottom:8px; } /* Horizontal scroll  */
    .year-tab         { white-space:nowrap; padding:10px 16px; font-size:14px; }
    .quiz-question-card { padding:20px; }
    .quiz-question-text { font-size:16px; }
    .quiz-option      { padding:14px 16px; }
    .results-stats    { gap:20px; }
    .subject-selection-grid { grid-template-columns:1fr; }
}
